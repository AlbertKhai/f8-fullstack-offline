<article class="bg-body-tertiary p-4 position-relative" style="border-radius: 20px;box-shadow: rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px;">
  <h1 class="mb-3 text-center">Thêm role</h1>

  <% const { nameRole } = req.errors; %>

  <form action="" method="post">
    <div class="form-floating mb-3">
      <input name="nameRole" type="text" class="form-control" id="nameRole" placeholder="Nhập tên role" value="<%= req.old.nameRole %>">
      <label for="nameRole">Tên role</label>
      <%- nameRole ? `<span class="text-danger d-inline-block mt-1">${nameRole}</span>` : "" %>
    </div>

    <table class="table table-hover table-bordered">
      <thead>
        <tr>
          <th class="text-center align-middle" scope="col" rowspan="2" width="72%">Modules</th>
          <th class="text-center" scope="col" colspan="4" width="28%">Quyền</th>
        </tr>
        <tr>
          <th class="text-center" scope="col" width="7%">Xem</th>
          <th class="text-center" scope="col" width="7%">Thêm</th>
          <th class="text-center" scope="col" width="7%">Sửa</th>
          <th class="text-center" scope="col" width="7%">Xóa</th>
        </tr>
      </thead>
      <tbody class="table-group-divider">
        <tr>
          <td class="h-100 align-middle" scope="row">Quản lý Users</td>
          <% permissions.forEach(permission => { %>
          <% if (permission.name.includes("Users")) { %>
          <td class="h-100 align-middle text-center">
            <input <%= req.old.permissions?.includes(`${permission.id}`) ? "checked" : "" %> name="permissions" class="form-check-input" type="checkbox" value="<%= permission.id %>">
          </td>
          <% } %>
          <% }) %>
        </tr>
        <tr>
          <td class="h-100 align-middle" scope="row">Quản lý Roles</td>
          <% permissions.forEach(permission => { %>
          <% if (permission.name.includes("Roles")) { %>
          <td class="h-100 align-middle text-center">
            <input <%= req.old?.permissions?.includes(`${permission.id}`) ? "checked" : "" %> name="permissions" class="form-check-input" type="checkbox" value="<%= permission.id %>">
          </td>
          <% } %>
          <% }) %>
        </tr>
      </tbody>
    </table>

    <div class="d-flex gap-2 justify-content-end">
      <button class="btn btn-primary">Thêm role</button>
    </div>
  </form>
</article>